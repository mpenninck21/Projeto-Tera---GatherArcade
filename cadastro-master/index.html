<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="shortcut icon" href="favicon.ico.png" type="image/x-icon">
    <title>Formulário de Cadastro</title>
</head>
<body>
    <div class="container">
        <div class="form-image">
            <img src="./assets/images/game.svg">
        </div>
        <div class="form">
            <form action="#" id="form">
                <div class="form-header">
                    <div class="title">
                        <h1>Cadastre-se</h1>
                        <div class="login-button">
                            <button><a href="/login-pag/index.html">Entrar</a></button>
                        </div>

                    </div>

                </div>
                <div class="input-group">
                    <div class="input-box">
                        <input oninput="nameValidate()" class="inputs-a" id="firstname" type="text" name="firstname" placeholder="Digite seu primeiro nome" required>
                        <span class="span-required">Nome deve ter no mínimo 3 caracteres</span>
                    </div>

                    <div class="input-box">
                        <input oninput="sobrenomeValidate()" class="inputs-a" id="lastname" type="text" name="lastname" placeholder="Digite seu sobrenome" required>
                        <span class="span-required">Sobrenome deve ter no mínimo 3 caracteres.</span>
                    </div>

                    <div class="input-box">
                        <input oninput="emailValidate()" class="inputs-a" id="email" type="email" name="email" placeholder="Digite seu email" required>
                        <span class="span-required">Digite um email válido.</span>
                    </div>

                    <div class="input-box">
                        <input class="inputs-a" type="tel" maxlength="15" onkeyup="handlePhone(event)" placeholder="(XX) X XXXX-XXXX" required>
                        <span class="span-required">Formato inválido.</span>
                    </div>

                    <div class="input-box">
                        <input oninput="gamertagValidate()" class="inputs-a" id="gamertag" type="text" name="gamertag" placeholder="Digite sua Gamertag" required>
                        <span class="span-required">Gamertag deve ter no mínimo 5 caracteres.</span>
                    </div>

                    <div class="input-box">
                        <input oninput="mainPasswordValidate()" class="inputs-a" id="password" type="password" name="password" placeholder="Digite sua senha" required>
                        <span class="span-required">Sua senha deve possuir no mínimo 8 caracteres.</span>
                    </div>

                    <div class="input-box">
                        <input oninput="comparePassword()" class="inputs-a" id="confirmpassword" type="password" name="confirmpassword" placeholder="Confirme sua senha" required>
                        <span class="span-required">As senhas devem coincidir.</span>
                    </div>

                </div>

                <div class="style-inputs">
                    <div class="style-title">
                        <h6>Estilo de Jogo Favorito</h6>
                    </div>

                    <div class="style-group">
                        <div class="style-input">
                            <input type="checkbox" id="action" name="style">
                            <label for="action">Ação</label>
                        </div>

                        <div class="style-input">
                            <input type="checkbox" id="adventure" name="style">
                            <label for="adventure">Aventura</label>
                        </div>
                        
                        <div class="style-input">
                            <input type="checkbox" id="strategy" name="style">
                            <label for="strategy">Estratégia</label>
                        </div>

                        <div class="style-input">
                            <input type="checkbox" id="rpg" name="style">
                            <label for="rpg">RPG</label>
                        </div>

                        <div class="style-input">
                            <input type="checkbox" id="sport" name="style">
                            <label for="sport">Esporte</label>
                        </div>

                        <div class="style-input">
                            <input type="checkbox" id="running" name="style">
                            <label for="running">Corrida</label>
                        </div>

                        <div class="style-input">
                            <input type="checkbox" id="moba" name="style">
                            <label for="moba">MOBA</label>
                        </div>

                        <div class="style-input">
                            <input type="checkbox" id="fight" name="style">
                            <label for="fight">Luta</label>
                        </div>

                        <div class="style-input">
                            <input type="checkbox" id="fps" name="style">
                            <label for="fps">FPS</label>
                        </div>

                        <div class="style-input">
                            <input type="checkbox" id="beat" name="style">
                            <label for="beat">Beat'em up</label>
                        </div>

                    </div>
                    
                </div>

                <div class="gender-inputs">
                    <div class="gender-title">
                        <h6>Gênero</h6>
                    </div>

                    <div class="gender-group">
                        <div class="gender-input">
                            <input type="radio" id="female" name="gender">
                            <label for="female">Feminino</label>
                        </div>

                        <div class="gender-input">
                            <input type="radio" id="male" name="gender">
                            <label for="male">Masculino</label>
                        </div>
                        
                        <div class="gender-input">
                            <input type="radio" id="others" name="gender">
                            <label for="others">Outros</label>
                        </div>

                        <div class="gender-input">
                            <input type="radio" id="none" name="gender">
                            <label for="none">Prefiro não informar</label>
                        </div>

                    </div>
                    
                </div>

                <div class="continue-button">
                    <button id="btnSalvar"><a href="/login-pag/index.html">Continuar</a></button>
                </div>
            

            </form>
            

        </div>
    </div>
    <script>


// ADD MASCARA PARA O NUMERO DE TELEFONE
        const handlePhone = (event) => {
        let input = event.target
        input.value = phoneMask(input.value)
        }
        const phoneMask = (value) => {
        if (!value) return ""
        value = value.replace(/\D/g,'')
        value = value.replace(/(\d{2})(\d)/,"($1) $2")
        value = value.replace(/(\d)(\d{4})$/,"$1-$2")
        return value
        }

// // VALIDAÇÕES DO FORMULÁRIO

        // CONSTANTES/VARIAVEIS DEFINIDAS
        const form   = document.getElementById('form')
        const campos = document.querySelectorAll('.inputs-a')
        const spans  = document.querySelectorAll('.span-required')
        const emailRegex = /^\w+( [-+. ']\w+)*@\w+( [-.]\w+ )*\.\w+([-.]\w+)*$/;
        
        // FUNÇÃO PARA OS ERROS DE PREENCHIMENTO
        function setError(index) {
            campos[index].style.border = '5px solid black';
            spans[index].style.display = 'block'
        }
        // FUNÇÃO CASO NÃO HAJA ERROS DE PREENCHIMENTO
        function removeError(index) {
            campos[index].style.border = '';
            spans[index].style.display = 'none'
        }

        function nameValidate(){
                if(campos[0].value.length < 3) {
                    setError(0);
                } else {
                    removeError(0)
                }
            }

            function sobrenomeValidate(){
                if(campos[1].value.length < 3) {
                    setError(1);
                } else {
                    removeError(1)
                }
            }

            function emailValidate(){
                if(!emailRegex.test(campos[2].value)) {
                    setError(2);
                } else{
                    removeError(2); 
                }
            }

            function gamertagValidate() {
                if(campos[4].value.length < 5) {
                    setError(4)
                } else {
                    removeError(4)
                }
            }

            function mainPasswordValidate(){
                if(campos[5].value.length < 8) {
                    setError(5)
                } else {
                    removeError(5);
                    comparePassword();
                }
            }
            
            function comparePassword(){
                if(campos[5].value == campos[6].value && campos[6].value.length >= 8) {
                    removeError(6)
                } else  {
                    setError(6) 
                }
            }
    </script>
</body>
</html>